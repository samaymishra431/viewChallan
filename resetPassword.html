<!DOCTYPE html>
<html class="light" lang="en">
   <head>
      <meta charset="utf-8"/>
      <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
      <title>Reset New Password - VCMS</title>
      <link href="https://fonts.googleapis.com" rel="preconnect"/>
      <link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
      <link href="https://fonts.googleapis.com/css2?family=Public+Sans:wght@400;500;600;700&amp;display=swap" rel="stylesheet"/>
      <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&amp;display=swap" rel="stylesheet"/>
      <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
      <script id="tailwind-config">
         tailwind.config = {
             darkMode: "class",
             theme: {
                 extend: {
                     colors: {
                         "primary": "#135bec",
                         "primary-hover": "#1d4ed8",
                         "background-light": "#f6f6f8",
                         "background-dark": "#101622",
                         "surface-dark": "#1e293b",
                     },
                     fontFamily: {
                         "display": ["Public Sans", "sans-serif"]
                     },
                     borderRadius: {
                         "DEFAULT": "0.25rem", 
                         "lg": "0.5rem", 
                         "xl": "0.75rem", 
                         "full": "9999px"
                     },
                 },
             },
         }
      </script>
      <style>
         body {
         font-family: "Public Sans", sans-serif;
         }
      </style>
   </head>
   <body class="bg-background-light dark:bg-background-dark text-[#111318] dark:text-white transition-colors duration-200">
      <div class="flex min-h-screen w-full overflow-hidden">
         <div class="hidden lg:flex w-1/2 bg-primary relative flex-col justify-between p-12 overflow-hidden">
            <div class="absolute inset-0 z-0">
               <img class="w-full h-full object-cover mix-blend-overlay opacity-20" data-alt="Abstract view of city traffic lights and movement at night" src="https://lh3.googleusercontent.com/aida-public/AB6AXuCQLaBykRnHGA51oF63lOAUzx5h6CqKO5SSZnL6AOLSCfyl4z2gDM30BwOg_gvzkFgcAMvpD1dG_RL3b8sm-KwlvdWRxgUZDxUPxMUAaqL6R2ZMWWzRqqNZrrRyZS-ZShD7RzYzL-tsE42aTSRaM2Bw7eTyCAj1lZqzss4aU-Owki_4dqpUEi92fbv92gUJUSps22xnQcvl8KyUIg0bJb7Day3DCiD_JK5KpKsR4nGTgTwlOttlbl-ZskYZMCzIt2ScbFic9C2WyWo"/>
               <div class="absolute inset-0 bg-primary/80 mix-blend-multiply"></div>
               <div class="absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"></div>
            </div>
            <div class="relative z-10 flex items-center gap-3 text-white">
               <div class="size-8 bg-white/20 backdrop-blur-sm rounded-lg flex items-center justify-center">
                  <span class="material-symbols-outlined text-white text-xl">local_police</span>
               </div>
               <h2 class="text-xl font-bold tracking-tight">Challan Management System</h2>
            </div>
            <div class="relative z-10 max-w-lg">
               <h1 class="text-4xl font-black leading-tight tracking-[-0.033em] text-white mb-6">
                  Streamline Your Traffic Fine Settlements
               </h1>
               <p class="text-white/80 text-lg leading-relaxed">
                  Join thousands of users, advocates, and administrators managing vehicle challans efficiently on our secure platform.
               </p>
            </div>
            <div class="relative z-10 flex gap-6 text-white/60 text-sm font-medium">
               <span>Â© 2024 CMS Inc.</span>
               <a class="hover:text-white transition-colors" href="#">Privacy Policy</a>
               <a class="hover:text-white transition-colors" href="#">Terms of Service</a>
            </div>
         </div>
         <main class="w-full lg:w-1/2 flex items-center justify-center p-4 sm:p-6 lg:p-8 bg-background-light dark:bg-background-dark overflow-y-auto relative">
            
            <div class="w-full max-w-[520px] mx-auto">
               <div class="bg-white dark:bg-surface-dark rounded-xl shadow-lg border border-[#dbdfe6] dark:border-gray-700 overflow-hidden">
                  <div class="p-8 sm:p-10 flex flex-col gap-6">
                     <div class="flex flex-col gap-2 text-center sm:text-left">
                        <h1 class="text-[#111318] dark:text-white tracking-tight text-[28px] sm:text-[32px] font-bold leading-tight">Reset New Password</h1>
                        <p class="text-[#616f89] dark:text-gray-400 text-base font-normal leading-normal">
                           Please enter a new password for your account to regain access to the portal.
                        </p>
                     </div>
                     <form action="#" class="flex flex-col gap-5 mt-2" onsubmit="handleReset(event)">
                        <div class="flex flex-col gap-2">
                           <label class="text-[#111318] dark:text-gray-200 text-sm font-medium leading-normal">
                           New Password
                           </label>
                           <div class="relative flex w-full items-center rounded-lg">
                              <span class="absolute left-4 text-[#616f89]">
                              <span class="material-symbols-outlined text-[20px]">lock</span>
                              </span>
                              <input class="form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-lg text-[#111318] dark:text-white dark:bg-slate-800 focus:ring-2 focus:ring-primary/20 focus:border-primary border border-[#dbdfe6] dark:border-gray-600 h-12 placeholder:text-[#616f89] pl-11 pr-12 text-base font-normal leading-normal transition-all" id="newPassword" oninput="checkStrength()" placeholder="Enter new password" type="password" value=""/>
                              <button class="absolute right-0 top-0 bottom-0 px-3 flex items-center justify-center text-[#616f89] hover:text-[#111318] dark:hover:text-white transition-colors rounded-r-lg focus:outline-none" type="button">
                              <span class="material-symbols-outlined text-[20px]">visibility_off</span>
                              </button>
                           </div>
                        </div>
                        <div class="flex flex-col gap-2 p-4 bg-[#f6f6f8] dark:bg-slate-800/50 rounded-lg border border-[#f0f2f4] dark:border-gray-700">
                           <div class="flex gap-6 justify-between items-center">
                              <p class="text-[#111318] dark:text-gray-200 text-sm font-medium leading-normal">Password Strength</p>
                              <p class="text-primary text-xs font-bold leading-normal uppercase tracking-wide" id="strengthText">Weak</p>
                           </div>
                           <div class="flex gap-1 h-1.5 w-full">
                              <div class="h-full flex-1 rounded-full bg-[#dbdfe6] dark:bg-gray-600 strength-bar transition-colors"></div>
                              <div class="h-full flex-1 rounded-full bg-[#dbdfe6] dark:bg-gray-600 strength-bar transition-colors"></div>
                              <div class="h-full flex-1 rounded-full bg-[#dbdfe6] dark:bg-gray-600 strength-bar transition-colors"></div>
                              <div class="h-full flex-1 rounded-full bg-[#dbdfe6] dark:bg-gray-600 strength-bar transition-colors"></div>
                           </div>
                           <div class="flex flex-col gap-1 mt-1">
                              <div class="flex items-center gap-2">
                                 <span class="material-symbols-outlined text-[16px] text-[#dbdfe6] dark:text-gray-600 transition-colors" id="lenIcon">radio_button_unchecked</span>
                                 <p class="text-[#616f89] dark:text-gray-400 text-xs font-normal">At least 8 characters</p>
                              </div>
                              <div class="flex items-center gap-2">
                                 <span class="material-symbols-outlined text-[16px] text-[#dbdfe6] dark:text-gray-600 transition-colors" id="symIcon">radio_button_unchecked</span>
                                 <p class="text-[#616f89] dark:text-gray-400 text-xs font-normal">Contains a symbol or number</p>
                              </div>
                           </div>
                        </div>
                        <div class="flex flex-col gap-2">
                           <label class="text-[#111318] dark:text-gray-200 text-sm font-medium leading-normal">
                           Confirm New Password
                           </label>
                           <div class="relative flex w-full items-center rounded-lg">
                              <span class="absolute left-4 text-[#616f89]">
                              <span class="material-symbols-outlined text-[20px]">lock_reset</span>
                              </span>
                              <input class="form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-lg text-[#111318] dark:text-white dark:bg-slate-800 focus:ring-2 focus:ring-primary/20 focus:border-primary border border-[#dbdfe6] dark:border-gray-600 h-12 placeholder:text-[#616f89] pl-11 pr-12 text-base font-normal leading-normal transition-all" id="confirmPassword" placeholder="Repeat new password" type="password" value=""/>
                              <button class="absolute right-0 top-0 bottom-0 px-3 flex items-center justify-center text-[#616f89] hover:text-[#111318] dark:hover:text-white transition-colors rounded-r-lg focus:outline-none" type="button">
                              <span class="material-symbols-outlined text-[20px]">visibility_off</span>
                              </button>
                           </div>
                        </div>
                        <div class="pt-2">
                           <button class="w-full bg-primary hover:bg-primary-hover text-white text-base font-bold h-12 rounded-lg transition-colors shadow-sm flex items-center justify-center gap-2">
                           Reset Password
                           <span class="material-symbols-outlined text-[20px]">arrow_forward</span>
                           </button>
                        </div>
                     </form>
                     <div class="flex justify-center border-t border-[#f0f2f4] dark:border-gray-700 pt-6">
                        <a class="text-sm font-medium text-[#616f89] dark:text-gray-400 hover:text-primary dark:hover:text-primary transition-colors flex items-center gap-2" href="login.html">
                        <span class="material-symbols-outlined text-[18px]">arrow_back</span>
                        Back to Login
                        </a>
                     </div>
                  </div>
               </div>
               <div class="mt-6 flex justify-center text-center px-4">
                  <p class="text-xs text-[#616f89] dark:text-gray-500 max-w-sm flex items-center gap-1.5 justify-center">
                     <span class="material-symbols-outlined text-[14px]">shield_lock</span>
                     Secured by VCMS Admin Panel. Your IP is being monitored.
                  </p>
               </div>
            </div>
         </main>
      </div>
      <script>
         function checkStrength() {
            const password = document.getElementById('newPassword').value;
            const strengthText = document.getElementById('strengthText');
            const bars = document.querySelectorAll('.strength-bar');
            const lenIcon = document.getElementById('lenIcon');
            const symIcon = document.getElementById('symIcon');
            let score = 0;
            if (password.length >= 8) {
               score++;
               lenIcon.textContent = 'check_circle';
               lenIcon.classList.remove('text-[#dbdfe6]', 'dark:text-gray-600');
               lenIcon.classList.add('text-green-600');
            } else {
               lenIcon.textContent = 'radio_button_unchecked';
               lenIcon.classList.add('text-[#dbdfe6]', 'dark:text-gray-600');
               lenIcon.classList.remove('text-green-600');
            }
            if (/[0-9!@#$%^&*]/.test(password)) {
               score++;
               symIcon.textContent = 'check_circle';
               symIcon.classList.remove('text-[#dbdfe6]', 'dark:text-gray-600');
               symIcon.classList.add('text-green-600');
            } else {
               symIcon.textContent = 'radio_button_unchecked';
               symIcon.classList.add('text-[#dbdfe6]', 'dark:text-gray-600');
               symIcon.classList.remove('text-green-600');
            }
            let strengthLabel = 'Weak';
            let activeBars = 0;
            let colorClass = 'bg-red-500';
            if (score === 2) {
               strengthLabel = 'Medium';
               activeBars = 2;
               colorClass = 'bg-yellow-500';
               if (password.length > 10) {
                  strengthLabel = 'Strong';
                  activeBars = 4;
                  colorClass = 'bg-green-500';
               }
            } else if (score === 1) {
               activeBars = 1;
            }
            if (password.length === 0) {
               activeBars = 0;
               strengthLabel = 'Weak';
            }
            strengthText.textContent = strengthLabel;
            bars.forEach((bar, index) => {
               bar.className = 'h-full flex-1 rounded-full strength-bar transition-colors duration-300';
               if (index < activeBars) {
                  bar.classList.add(colorClass);
               } else {
                  bar.classList.add('bg-[#dbdfe6]', 'dark:bg-gray-600');
               }
            });
         }
         function handleReset(event) {
            event.preventDefault();
            const p1 = document.getElementById('newPassword').value;
            const p2 = document.getElementById('confirmPassword').value;
            if (p1 && p1 === p2) {
               if (p1.length >= 8) {
                  window.location.href = 'passwordResetConfirmation.html';
               } else {
                  alert("Password must be at least 8 characters long.");
               }
            } else {
               alert("Passwords do not match!");
            }
         }
      </script>
   </body>
</html>